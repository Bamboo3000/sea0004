description = "Job listing page"

[staticMenu mainMenu]
code = "main-menu"

[staticPage]
[sidebar]
[jobsList]

[localePicker]
forceUrl = 1

[breadcrumbs]

[langCheck]

==
<?php

public function onStart()
{
    if(App::getLocale() == 'en') {
        $this['jobUrl'] = "/en/job/";
        $this['jobCat'] = "/en/jobs/";
    } else {
        $this['jobUrl'] = "/nl/vacature/";
        $this['jobCat'] = "/nl/vacatures/";
    }
}

?>
==

{% partial 'head' %}
{% partial 'navigation' %}
{% component 'breadcrumbs' %}

<section class="job-listing">
    <div class="container">
        <div class="job-listing__container">
            {% partial 'job-filters' %}
            <div class="job-listing__list">
                {% partial 'job-searchbar' %}
                <div class="job-listing__job-number">
                    {% partial 'job-searchquery' %}
                </div>
                <div class="job-listing__list-container">
                    {% for record in jobs %}
                        <article class="job-listing__list-item">
                            <a href="{{ jobUrl }}{{ record.slug }}" class="whole-element-link"></a>
                            <a href="" class="shortlist-link">
                                <p>{{ 'Shortlist'|_ }}</p>
                                <i class="material-icons">favorite_border</i>
                            </a>
                            <p class="title">
                                {{ record.title|raw }}
                            </p>
                            <div class="info">
                                <div class="info-single">
                                    <p><i class="material-icons">location_on</i>{{ record.location }}</p>
                                </div>
                                <div class="info-single">
                                    <p><i class="material-icons">euro_symbol</i>{{ record.salary_min|number_format(0, '.', '.') }} - {{ record.salary_max|number_format(0, '.', '.') }} p.a.</p>
                                </div>
                                <div class="info-single">
                                    <p><i class="material-icons">access_time</i>{{ record.types[0].type_name }}</p>
                                </div>
                            </div>
                            <p class="description">
                                {{ record.summary|striptags|slice(0, 300) }}...
                            </p>
                        </article>
                    {% endfor %}
                </div>
                <div class="job-listing__pagination-container">
                    {% partial 'job-pagination' %}
                </div>
            </div>
        </div>
    </div>
</section>

{% partial 'footer' %}